

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Docker Usage &mdash; Draco 0.1.1.dev2 documentation</title>
  

  
  
    <link rel="shortcut icon" href="../_static/Draco.ico"/>
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Contributing" href="../contributing.html" />
    <link rel="prev" title="CSV Format" href="csv.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> Draco
          

          
            
            <img src="../_static/Draco-200.png" class="logo" alt="Logo"/>
          
          </a>

          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../readme.html">Draco</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../readme.html#overview">Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../readme.html#resources">Resources</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../readme.html#install">Install</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../readme.html#requirements">Requirements</a></li>
<li class="toctree-l2"><a class="reference internal" href="../readme.html#download-and-install">Download and Install</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../readme.html#id1">Data Format</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../readme.html#target-times">Target Times</a></li>
<li class="toctree-l2"><a class="reference internal" href="../readme.html#readings">Readings</a></li>
<li class="toctree-l2"><a class="reference internal" href="../readme.html#turbines">Turbines</a></li>
<li class="toctree-l2"><a class="reference internal" href="../readme.html#csv-format">CSV Format</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../readme.html#quickstart">Quickstart</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../readme.html#load-and-split-the-demo-data">1. Load and split the demo data</a></li>
<li class="toctree-l2"><a class="reference internal" href="../readme.html#exploring-the-available-pipelines">2. Exploring the available Pipelines</a></li>
<li class="toctree-l2"><a class="reference internal" href="../readme.html#fitting-the-pipeline">3. Fitting the Pipeline</a></li>
<li class="toctree-l2"><a class="reference internal" href="../readme.html#make-predictions">4. Make predictions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../readme.html#evaluate-the-goodness-of-fit">5. Evaluate the goodness-of-fit</a></li>
<li class="toctree-l2"><a class="reference internal" href="../readme.html#what-s-next">Whatâ€™s next?</a></li>
</ul>
</li>
</ul>
<p><span class="caption-text">Advanced Usage</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="concepts.html">Concepts</a><ul>
<li class="toctree-l2"><a class="reference internal" href="concepts.html#primitive">Primitive</a></li>
<li class="toctree-l2"><a class="reference internal" href="concepts.html#template">Template</a></li>
<li class="toctree-l2"><a class="reference internal" href="concepts.html#pipeline">Pipeline</a></li>
<li class="toctree-l2"><a class="reference internal" href="concepts.html#tuning">Tuning</a></li>
<li class="toctree-l2"><a class="reference internal" href="concepts.html#dracopipeline">DracoPipeline</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="csv.html">CSV Format</a><ul>
<li class="toctree-l2"><a class="reference internal" href="csv.html#raw-data-format">Raw Data Format</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Docker Usage</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#requirements">Requirements</a></li>
<li class="toctree-l2"><a class="reference internal" href="#building-the-draco-docker-image">Building the Draco Docker Image</a></li>
<li class="toctree-l2"><a class="reference internal" href="#distributing-the-draco-docker-image">Distributing the Draco Docker Image</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#distributing-using-a-docker-registry">Distributing using a Docker registry</a></li>
<li class="toctree-l3"><a class="reference internal" href="#distributing-as-a-file">Distributing as a file</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#running-the-draco-jupyter-image">Running the draco-jupyter image</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#running-draco-jupyter-with-the-code">Running draco-jupyter with the code</a></li>
<li class="toctree-l3"><a class="reference internal" href="#running-draco-jupyter-without-the-draco-code">Running draco-jupyter without the draco code</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<p><span class="caption-text">Resources</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../contributing.html">Contributing</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../contributing.html#types-of-contributions">Types of Contributions</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../contributing.html#report-bugs">Report Bugs</a></li>
<li class="toctree-l3"><a class="reference internal" href="../contributing.html#fix-bugs">Fix Bugs</a></li>
<li class="toctree-l3"><a class="reference internal" href="../contributing.html#implement-features">Implement Features</a></li>
<li class="toctree-l3"><a class="reference internal" href="../contributing.html#write-documentation">Write Documentation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../contributing.html#submit-feedback">Submit Feedback</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../contributing.html#get-started">Get Started!</a></li>
<li class="toctree-l2"><a class="reference internal" href="../contributing.html#pull-request-guidelines">Pull Request Guidelines</a></li>
<li class="toctree-l2"><a class="reference internal" href="../contributing.html#unit-testing-guidelines">Unit Testing Guidelines</a></li>
<li class="toctree-l2"><a class="reference internal" href="../contributing.html#tips">Tips</a></li>
<li class="toctree-l2"><a class="reference internal" href="../contributing.html#release-workflow">Release Workflow</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../contributing.html#release-candidates">Release Candidates</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../authors.html">Credits</a></li>
<li class="toctree-l1"><a class="reference internal" href="../history.html">History</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../history.html#id1">0.2.0 - 2022-04-12</a></li>
<li class="toctree-l2"><a class="reference internal" href="../history.html#id2">0.1.0 - 2022-01-01</a></li>
<li class="toctree-l2"><a class="reference internal" href="../history.html#previous-greenguard-development">Previous GreenGuard development</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../history.html#id3">0.3.0 - 2021-01-22</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../history.html#internal-improvements">Internal Improvements</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../history.html#id4">0.2.6 - 2020-10-23</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../history.html#resolved-issues">Resolved Issues</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../history.html#id5">0.2.5 - 2020-10-09</a></li>
<li class="toctree-l3"><a class="reference internal" href="../history.html#id6">0.2.4 - 2020-09-25</a></li>
<li class="toctree-l3"><a class="reference internal" href="../history.html#id7">0.2.3 - 2020-08-10</a></li>
<li class="toctree-l3"><a class="reference internal" href="../history.html#id8">0.2.2 - 2020-07-10</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../history.html#id9">Internal Improvements</a></li>
<li class="toctree-l4"><a class="reference internal" href="../history.html#id10">Resolved Issues</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../history.html#id11">0.2.1 - 2020-06-16</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../history.html#id12">Internal Improvements</a></li>
<li class="toctree-l4"><a class="reference internal" href="../history.html#bug-fixes">Bug Fixes</a></li>
<li class="toctree-l4"><a class="reference internal" href="../history.html#id13">Resolved Issues</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../history.html#id14">0.2.0 - 2020-02-14</a></li>
<li class="toctree-l3"><a class="reference internal" href="../history.html#id15">0.1.0</a></li>
</ul>
</li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Draco</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
      <li>Docker Usage</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            
              <a href="https://github.com/sintel-dev/Draco/blob/master/docs/advanced_usage/docker.md" class="fa fa-github"> Edit on GitHub</a>
            
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  
<style>
/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast.container,
.nboutput.nblast.container {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast.container + .nbinput.container {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}

/* Fix math alignment, see https://github.com/rtfd/sphinx_rtd_theme/pull/686 */
.math {
    text-align: unset;
}
</style>
<section id="docker-usage">
<h1>Docker Usage<a class="headerlink" href="#docker-usage" title="Permalink to this headline">Â¶</a></h1>
<p><strong>Draco</strong> comes configured and ready to be distributed and run as a docker image which starts
a jupyter notebook already configured to use draco, with all the required dependencies already
installed.</p>
<section id="requirements">
<h2>Requirements<a class="headerlink" href="#requirements" title="Permalink to this headline">Â¶</a></h2>
<p>The only requirement in order to run the Draco Docker image is to have Docker installed and
that the user has enough permissions to run it.</p>
<p>Installation instructions for any possible system compatible can be found <a class="reference external" href="https://docs.docker.com/install/">here</a></p>
<p>Additionally, the system that builds the Draco Docker image will also need to have a working
internet connection that allows downloading the base image and the additional python depenedencies.</p>
</section>
<section id="building-the-draco-docker-image">
<h2>Building the Draco Docker Image<a class="headerlink" href="#building-the-draco-docker-image" title="Permalink to this headline">Â¶</a></h2>
<p>After having cloned the <strong>Draco</strong> repository, all you have to do in order to build the Draco Docker
Image is running this command:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>make docker-jupyter-build
</pre></div>
</div>
<p>After a few minutes, the new image, called <code class="docutils literal notranslate"><span class="pre">draco-jupyter</span></code>, will have been built into the system
and will be ready to be used or distributed.</p>
</section>
<section id="distributing-the-draco-docker-image">
<h2>Distributing the Draco Docker Image<a class="headerlink" href="#distributing-the-draco-docker-image" title="Permalink to this headline">Â¶</a></h2>
<p>Once the <code class="docutils literal notranslate"><span class="pre">draco-jupyter</span></code> image is built, it can be distributed in several ways.</p>
<section id="distributing-using-a-docker-registry">
<h3>Distributing using a Docker registry<a class="headerlink" href="#distributing-using-a-docker-registry" title="Permalink to this headline">Â¶</a></h3>
<p>The simplest way to distribute the recently created image is <a class="reference external" href="https://docs.docker.com/registry/">using a registry</a>.</p>
<p>In order to do so, we will need to have write access to a public or private registry (remember to
<a class="reference external" href="https://docs.docker.com/engine/reference/commandline/login/">login</a>!) and execute these commands:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>docker tag draco-jupyter:latest your-registry-name:some-tag
docker push your-registry-name:some-tag
</pre></div>
</div>
<p>Afterwards, in the receiving machine:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>docker pull your-registry-name:some-tag
docker tag your-registry-name:some-tag draco-jupyter:latest
</pre></div>
</div>
</section>
<section id="distributing-as-a-file">
<h3>Distributing as a file<a class="headerlink" href="#distributing-as-a-file" title="Permalink to this headline">Â¶</a></h3>
<p>If the distribution of the image has to be done offline for any reason, it can be achieved
using the following command.</p>
<p>In the system that already has the image:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>docker save --output draco-jupyter.tar draco-jupyter
</pre></div>
</div>
<p>Then copy over the file <code class="docutils literal notranslate"><span class="pre">draco-jupyter.tar</span></code> to the new system and there, run:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>docker load --input draco-jupyter.tar
</pre></div>
</div>
<p>After these commands, the <code class="docutils literal notranslate"><span class="pre">draco-jupyter</span></code> image should be available and ready to be used in the
new system.</p>
</section>
</section>
<section id="running-the-draco-jupyter-image">
<h2>Running the draco-jupyter image<a class="headerlink" href="#running-the-draco-jupyter-image" title="Permalink to this headline">Â¶</a></h2>
<p>Once the <code class="docutils literal notranslate"><span class="pre">draco-jupyter</span></code> image has been built, pulled or loaded, it is ready to be run.</p>
<p>This can be done in two ways:</p>
<section id="running-draco-jupyter-with-the-code">
<h3>Running draco-jupyter with the code<a class="headerlink" href="#running-draco-jupyter-with-the-code" title="Permalink to this headline">Â¶</a></h3>
<p>If the Draco source code is available in the system, running the image is as simple as running
this command from within the root of the project:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>make docker-jupyter-run
</pre></div>
</div>
<p>This will start a jupyter notebook using the docker image, which you can access by pointing your
browser at <a class="reference external" href="http://127.0.0.1:8888">http://127.0.0.1:8888</a></p>
<p>In this case, the local version of the project will also mounted within the Docker container,
which means that any changes that you do in your local code will immediately be available
within your notebooks, and that any notebook that you create within jupyter will also show
up in your <code class="docutils literal notranslate"><span class="pre">notebooks</span></code> folder!</p>
</section>
<section id="running-draco-jupyter-without-the-draco-code">
<h3>Running draco-jupyter without the draco code<a class="headerlink" href="#running-draco-jupyter-without-the-draco-code" title="Permalink to this headline">Â¶</a></h3>
<p>If the Draco source code is not available in the system and only the Docker Image is, you can
still run the image by using this command:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>docker run -ti -p8888:8888 draco-jupyter
</pre></div>
</div>
<p>In this case, the code changes and the notebooks that you create within jupyter will stay
inside the container and you will only be able to access and download them through the
jupyter interface.</p>
</section>
</section>
</section>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../contributing.html" class="btn btn-neutral float-right" title="Contributing" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="csv.html" class="btn btn-neutral float-left" title="CSV Format" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, MIT Data To AI Lab

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>